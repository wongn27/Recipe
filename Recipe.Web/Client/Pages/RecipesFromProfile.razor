@page "/recipefromprofile"
@using Recipe.Web.Data.Models
@inject HttpClient Http
@inject Blazored.SessionStorage.ISessionStorageService sessionStorage

<h3>RecipesFromProfile</h3>


@*<div class="card-deck">
        @foreach (var recipe in foundRecipes)
        {
            <div class="card m-3" style="min-width: 18rem; max-width:30.5%;">
                <div class="card-header">
                    <h3>@recipe.title</h3>
                </div>
                <img class="card-img-top" src="@recipe.image" />
                <p style="color:red">Missing Ingredients: @recipe.missedIngredients.Length</p>

                @for (int i = 0; i < recipe.missedIngredientCount; i++)
                {
                    <p style="color:red"> @recipe.missedIngredients[i].name</p>
                }

                <div class="card-footer text-center">
                    <a href="#" class="btn btn-primary m-1">View Recipe</a>
                    <a href="/recipepage/@recipe.id/@recipe.title" class="btn btn-primary m-1">Quick Description</a>
                    @if (displaySummarizationButtonPressed == true)
                    {
                        <p> @summarizeRecipe.summary.ToString()</p>
                    }
                    <a href="#" class="btn btn-primary m-1">View Missing Ingredients</a>
                </div>
            </div>
        }
    </div>*@

@code {

    public string userIngredientToSearchBy { get; set; }
    public string currentUserEmail { get; set; }
    User currentUser { get; set; }


    protected override async Task OnInitializedAsync()
    {
        //Getting email of current User - RT
        currentUserEmail = await sessionStorage.GetItemAsync<string>("email");

        //Getting Current user instance. This is where Guid is also gained - RT
        currentUser = await Http.GetFromJsonAsync<User>("api/userController/" + currentUserEmail.ToString());

        //Getting ingredients user searched for -RT
        userIngredientToSearchBy = await sessionStorage.GetItemAsync<string>("ingredientList");









    }


}